(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1687e95c"],{"8a38":function(t,e,n){},a44f:function(t,e,n){"use strict";n.r(e);var a,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"background-color":"white"},attrs:{id:"bbs_add"}},[n("van-cell-group",{staticStyle:{"margin-bottom":"4px"}},[n("van-field",{attrs:{label:"标题",placeholder:"标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),n("span",{staticStyle:{"font-size":"14px",margin:"10px 15px"}},[t._v("专栏")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.ssession,expression:"ssession"}],staticStyle:{height:"40px",width:"60%","margin-left":"10%"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.ssession=e.target.multiple?n:n[0]}}},t._l(t.dictionary,function(e){return n("option",{domProps:{value:e.sid}},[t._v(t._s(e.sname))])}),0),n("van-uploader",{staticStyle:{display:"none"},attrs:{"after-read":t.onRead}},[n("van-cell",{attrs:{id:"photo",icon:t.photo,title:""}})],1),n("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOption},on:{blur:function(e){return t.onEditorBlur(e)},focus:function(e){return t.onEditorFocus(e)},change:function(e){return t.onEditorChange(e)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("van-button",{attrs:{size:"large"},on:{click:t.finish}},[t._v("发布")])],1)},i=[],s=n("bd86"),c=(n("66b9"),n("b650")),r=(n("e7e5"),n("d399")),l=(n("be7f"),n("565f")),u=(n("e930"),n("8f80")),d=(n("e17f"),n("2241")),p=(n("0653"),n("34e9")),f=(n("c194"),n("7744")),h=n("bc3a"),m=n.n(h),b=n("b1ef"),g=(n("953d"),n("ef15"),{components:(a={},Object(s["a"])(a,f["a"].name,f["a"]),Object(s["a"])(a,p["a"].name,p["a"]),Object(s["a"])(a,"van-dialog",d["a"]),Object(s["a"])(a,u["a"].name,u["a"]),Object(s["a"])(a,l["a"].name,l["a"]),Object(s["a"])(a,r["a"].name,r["a"]),Object(s["a"])(a,c["a"].name,c["a"]),a),created:function(){this.getDictionary()},data:function(){return{dictionary:[],title:"",photo:"",ssession:"",content:"",editorOption:{modules:{toolbar:{container:[["bold","italic","underline"],["blockquote"],["image"],[{color:[]},{background:[]}],[{size:["small",!1,"large","huge"]}]],handlers:{image:function(t){t&&document.querySelector(".van-uploader__input").click()}}}}}}},methods:{getDictionary:function(){var t=this;m()({method:"get",url:b["a"].baseURL+"appsite/bbs/innitsession"}).then(function(e){t.dictionary=e.data.list}).catch(function(t){})},finish:function(){var t=this;return""==this.title?(r["a"].fail("标题不能为空"),!1):""==this.ssession?(r["a"].fail("专栏不能为空"),!1):""==this.content?(r["a"].fail("内容不能为空"),!1):void m()({method:"post",url:b["a"].baseURL+"appsite/bbs/insert",params:{title:this.title,ssession:this.ssession,content:this.content,cen_xczhapp_token:this.$cookies.get("cen_xczhapp_token")}}).then(function(e){1==e.data.status?(r["a"].success(e.data.msg),setTimeout(function(){t.$router.push({path:"/my_bbs_list"})},1e3)):r["a"].fail(e.data.msg)}).catch(function(t){})},onRead:function(t){var e=this,n=new FormData;n.append("base64Data",t.content),n.append("height","260"),n.append("width","260"),m()({method:"POST",url:b["a"].baseURL+"base/uploadImgCommon",data:n,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){e.content+="<img src='"+b["a"].resoursePhoto+t.data+"'>"}).catch(function(t){console.log("请求失败："+t)})},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(t){}}}),v=g,_=(n("f5a2"),n("2877")),y=Object(_["a"])(v,o,i,!1,null,null,null);e["default"]=y.exports},f5a2:function(t,e,n){"use strict";var a=n("8a38"),o=n.n(a);o.a}}]);