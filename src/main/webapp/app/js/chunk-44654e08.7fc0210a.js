(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44654e08"],{"0653":function(t,e,s){"use strict";s("68ef")},"0a90":function(t,e,s){var i=s("63b6"),n=s("10ff");i(i.G+i.F*(parseFloat!=n),{parseFloat:n})},"10ff":function(t,e,s){var i=s("e53d").parseFloat,n=s("a1ce").trim;t.exports=1/i(s("e692")+"-0")!==-1/0?function(t){var e=n(String(t),3),s=i(e);return 0===s&&"-"==e.charAt(0)?-0:s}:i},1146:function(t,e,s){},"19de":function(t,e,s){"use strict";s("68ef"),s("5fbe")},"1f5b":function(t,e,s){},"234f":function(t,e,s){"use strict";var i=s("1988"),n=s("861b"),u=s.n(n),r=s("a142"),a=s("b650"),o=s("ba31"),c=s("48f4"),l=Object(r["k"])("goods-action-big-btn"),h=l[0],d=l[1];function f(t,e,s,i){var n=function(t){Object(o["a"])(i,"click",t),Object(c["a"])(i)};return t(a["a"],u()([{attrs:{square:!0,size:"large",loading:e.loading,disabled:e.disabled,type:e.primary?"danger":"warning"},class:d(),on:{click:n}},Object(o["b"])(i)]),[s["default"]?s["default"]():e.text])}f.props=Object(i["a"])({},c["c"],{text:String,primary:Boolean,loading:Boolean,disabled:Boolean}),e["a"]=h(f)},"25eb":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"28a5":function(t,e,s){"use strict";var i=s("aae3"),n=s("cb7c"),u=s("ebd6"),r=s("0390"),a=s("9def"),o=s("5f1b"),c=s("520a"),l=s("79e5"),h=Math.min,d=[].push,f="split",p="length",m="lastIndex",g=4294967295,k=!l(function(){RegExp(g,"y")});s("214f")("split",2,function(t,e,s,l){var b;return b="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[p]||2!="ab"[f](/(?:ab)*/)[p]||4!="."[f](/(.?)(.?)/)[p]||"."[f](/()()/)[p]>1||""[f](/.?/)[p]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return s.call(n,t,e);var u,r,a,o=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,f=void 0===e?g:e>>>0,k=new RegExp(t.source,l+"g");while(u=c.call(k,n)){if(r=k[m],r>h&&(o.push(n.slice(h,u.index)),u[p]>1&&u.index<n[p]&&d.apply(o,u.slice(1)),a=u[0][p],h=r,o[p]>=f))break;k[m]===u.index&&k[m]++}return h===n[p]?!a&&k.test("")||o.push(""):o.push(n.slice(h)),o[p]>f?o.slice(0,f):o}:"0"[f](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:s.call(this,t,e)}:s,[function(s,i){var n=t(this),u=void 0==s?void 0:s[e];return void 0!==u?u.call(s,n,i):b.call(String(n),s,i)},function(t,e){var i=l(b,t,this,e,b!==s);if(i.done)return i.value;var c=n(t),d=String(this),f=u(c,RegExp),p=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(k?"y":"g"),v=new f(k?c:"^(?:"+c.source+")",m),S=void 0===e?g:e>>>0;if(0===S)return[];if(0===d.length)return null===o(v,d)?[d]:[];var F=0,y=0,x=[];while(y<d.length){v.lastIndex=k?y:0;var C,O=o(v,k?d:d.slice(y));if(null===O||(C=h(a(v.lastIndex+(k?0:y)),d.length))===F)y=r(d,y,p);else{if(x.push(d.slice(F,y)),x.length===S)return x;for(var I=1;I<=O.length-1;I++)if(x.push(O[I]),x.length===S)return x;y=F=C}}return x.push(d.slice(F)),x}]})},"2b5e":function(t,e,s){"use strict";var i=s("1988"),n=s("2b0e"),u=s("e41f"),r=s("d399"),a=s("28a2"),o=s("861b"),c=s.n(o),l=s("a142"),h=s("ba31"),d=s("ad06"),f=Object(l["k"])("sku-header"),p=f[0],m=f[1];function g(t,e){var s=e.s1;if(s){var i=t.tree.filter(function(t){return"s1"===t.k_s})[0]||{};if(i.v){var n=i.v.filter(function(t){return t.id===s})[0];if(n)return n.imgUrl||n.img_url}}}function k(t,e,s,i){var n=e.sku,u=e.goods,r=e.skuEventBus,a=e.selectedSku,o=g(n,a)||u.picture,l=function(){r.$emit("sku:previewImage",o)};return t("div",c()([{class:[m(),"van-hairline--bottom"]},Object(h["b"])(i)]),[t("div",{class:m("img-wrap"),on:{click:l}},[t("img",{attrs:{src:o}})]),t("div",{class:m("goods-info")},[t("div",{class:"van-sku__goods-name van-ellipsis"},[u.title]),s["default"]&&s["default"](),t(d["a"],{attrs:{name:"close"},class:"van-sku__close-icon",on:{click:function(){r.$emit("sku:close")}}})])])}k.props={sku:Object,goods:Object,skuEventBus:Object,selectedSku:Object};var b=p(k),v=Object(l["k"])("sku-row"),S=v[0],F=v[1];function y(t,e,s,i){return t("div",c()([{class:F()},Object(h["b"])(i)]),[t("div",{class:F("title")},[e.skuRow.k,"："]),s["default"]&&s["default"]()])}y.props={skuRow:Object};var x=S(y),C={QUOTA_LIMIT:0,STOCK_LIMIT:1},O="",I={LIMIT_TYPE:C,UNSELECTED_SKU_VALUE_ID:O},j=function(t){var e={};return t.forEach(function(t){e[t.k_s]=t.v}),e},$=function(t,e){var s=Object.keys(e).filter(function(t){return e[t]!==O});return t.length===s.length},T=function(t,e){var s=t.filter(function(t){return Object.keys(e).every(function(s){return String(t[s])===String(e[s])})});return s[0]},B=function(t,e){var s=j(t);return Object.keys(e).reduce(function(t,i){var n=s[i],u=e[i];if(u!==O){var r=n.filter(function(t){return t.id===u})[0];r&&t.push(r)}return t},[])},_=function(t,e,s){var n,u=s.key,r=s.valueId,a=Object(i["a"])({},e,(n={},n[u]=r,n)),o=Object.keys(a).filter(function(t){return a[t]!==O}),c=t.filter(function(t){return o.every(function(e){return String(a[e])===String(t[e])})}),l=c.reduce(function(t,e){return t+=e.stock_num,t},0);return l>0},w={normalizeSkuTree:j,getSkuComb:T,getSelectedSkuValues:B,isAllSelected:$,isSkuChoosable:_},A=Object(l["k"])("sku-row-item"),E=A[0],N=E({props:{skuList:Array,skuValue:Object,skuKeyStr:String,skuEventBus:Object,selectedSku:Object},computed:{choosable:function(){return _(this.skuList,this.selectedSku,{key:this.skuKeyStr,valueId:this.skuValue.id})}},methods:{onSelect:function(){this.choosable&&this.skuEventBus.$emit("sku:select",Object(i["a"])({},this.skuValue,{skuKeyStr:this.skuKeyStr}))}},render:function(t){var e=this.skuValue.id===this.selectedSku[this.skuKeyStr];return t("span",{class:["van-sku-row__item",{"van-sku-row__item--active":e,"van-sku-row__item--disabled":!this.choosable}],on:{click:this.onSelect}},[this.skuValue.name])}}),M=Object(l["k"])("stepper"),D=M[0],V=M[1],z=D({props:{value:null,integer:Boolean,disabled:Boolean,inputWidth:String,asyncChange:Boolean,disableInput:Boolean,min:{type:[String,Number],default:1},max:{type:[String,Number],default:1/0},step:{type:[String,Number],default:1},defaultValue:{type:[String,Number],default:1}},data:function(){var t=this.range(Object(l["d"])(this.value)?this.value:this.defaultValue);return t!==+this.value&&this.$emit("input",t),{currentValue:t}},computed:{minusDisabled:function(){return this.disabled||this.currentValue<=this.min},plusDisabled:function(){return this.disabled||this.currentValue>=this.max}},watch:{value:function(t){t!==this.currentValue&&(this.currentValue=this.format(t))},currentValue:function(t){this.$emit("input",t),this.$emit("change",t)}},methods:{format:function(t){return t=String(t).replace(/[^0-9.-]/g,""),""===t?0:this.integer?Math.floor(t):+t},range:function(t){return Math.max(Math.min(this.max,this.format(t)),this.min)},onInput:function(t){var e=t.target.value,s=this.format(e);this.asyncChange?(t.target.value=this.currentValue,this.$emit("input",s),this.$emit("change",s)):(+e!==s&&(t.target.value=s),this.currentValue=s)},onChange:function(t){if(this[t+"Disabled"])this.$emit("overlimit",t);else{var e="minus"===t?-this.step:+this.step,s=Math.round(100*(this.currentValue+e))/100;this.asyncChange?(this.$emit("input",s),this.$emit("change",s)):this.currentValue=this.range(s),this.$emit(t)}},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){this.currentValue=this.range(this.currentValue),this.$emit("blur",t),0===this.currentValue&&(t.target.value=this.currentValue)}},render:function(t){var e=this,s=function(t){return function(){e.onChange(t)}};return t("div",{class:V()},[t("button",{class:V("minus",{disabled:this.minusDisabled}),on:{click:s("minus")}}),t("input",{attrs:{type:"number",disabled:this.disabled||this.disableInput},class:V("input"),domProps:{value:this.currentValue},style:{width:this.inputWidth},on:{input:this.onInput,focus:this.onFocus,blur:this.onBlur}}),t("button",{class:V("plus",{disabled:this.plusDisabled}),on:{click:s("plus")}})])}}),L=Object(l["k"])("sku-stepper"),q=L[0],R=C.QUOTA_LIMIT,U=C.STOCK_LIMIT,K=q({props:{quota:Number,quotaUsed:Number,hideStock:Boolean,skuEventBus:Object,skuStockNum:Number,selectedSku:Object,selectedNum:Number,stepperTitle:String,hideQuotaText:Boolean,selectedSkuComb:Object,disableStepperInput:Boolean,customStepperConfig:Object},data:function(){return{currentNum:this.selectedNum,limitType:U}},watch:{currentNum:function(t){this.skuEventBus.$emit("sku:numChange",t)},stepperLimit:function(t){t<this.currentNum&&(this.currentNum=t)}},computed:{stock:function(){var t=this.customStepperConfig.stockNum;return void 0!==t?t:this.selectedSkuComb?this.selectedSkuComb.stock_num:this.skuStockNum},stockText:function(){var t=this.customStepperConfig.stockFormatter;return t?t(this.stock):"剩余"+this.stock+"件"},quotaText:function(){var t=this.customStepperConfig,e=t.quotaText,s=t.hideQuotaText;if(s)return"";var i="";return e?i=e:this.quota>0&&(i="每人限购"+this.quota+"件"),i},stepperLimit:function(){var t,e=this.quota-this.quotaUsed;return this.quota>0&&e<=this.stock?(t=e<0?0:e,this.limitType=R):(t=this.stock,this.limitType=U),t}},methods:{setCurrentNum:function(t){this.currentNum=t},onOverLimit:function(t){this.skuEventBus.$emit("sku:overLimit",{action:t,limitType:this.limitType,quota:this.quota,quotaUsed:this.quotaUsed})},onChange:function(t){var e=this.customStepperConfig.handleStepperChange;e&&e(t),this.$emit("change",t)}},render:function(t){var e=this;return t("div",{class:"van-sku-stepper-stock"},[t("div",{class:"van-sku-stepper-container"},[t("div",{class:"van-sku__stepper-title"},[this.stepperTitle||"购买数量","："]),t(z,{class:"van-sku__stepper",attrs:{max:this.stepperLimit,disableInput:this.disableStepperInput},on:{overlimit:this.onOverLimit,change:this.onChange},model:{value:e.currentNum,callback:function(t){e.currentNum=t}}})]),!this.hideStock&&t("div",{class:"van-sku__stock"},[this.stockText]),!this.hideQuotaText&&this.quotaText&&t("div",{class:"van-sku__quota"},[this.quotaText])])}}),P=s("7744"),H=s("34e9"),Q=s("565f");function W(t){var e=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;return e.test(t)}var G=s("90c6"),J=s("543e"),X=s("8f80"),Y=Object(l["k"])("sku-img-uploader"),Z=Y[0],tt=Y[1],et=Z({props:{value:String,uploadImg:Function,maxSize:{type:Number,default:6}},data:function(){return{paddingImg:""}},computed:{imgList:function(){return this.value&&!this.paddingImg?[this.value]:[]}},methods:{afterReadFile:function(t){var e=this;this.paddingImg=t.content,this.uploadImg(t.file,t.content).then(function(t){e.$emit("input",t),e.$nextTick(function(){e.paddingImg=""})})["catch"](function(){e.paddingImg=""})},onOversize:function(){this.$toast("最大可上传图片为"+this.maxSize+"MB，请尝试压缩图片尺寸")}},render:function(t){var e=this,s=this.imgList,i=this.paddingImg,n=(i||s.length>0)&&t("div",{class:"van-clearfix"},[s.map(function(s){return t("div",{class:tt("img")},[t("img",{attrs:{src:s}}),t(d["a"],{attrs:{name:"clear"},class:tt("delete"),on:{click:function(){e.$emit("input","")}}})])}),i&&t("div",{class:tt("img")},[t("img",{attrs:{src:i}}),t(J["a"],{attrs:{type:"spinner"},class:tt("uploading")})])]);return t("div",{class:tt()},[t(X["a"],{attrs:{disabled:!!i,afterRead:this.afterReadFile,maxSize:1024*this.maxSize*1024},on:{oversize:this.onOversize}},[t("div",{class:tt("header")},[i?t("div",["正在上传..."]):[t(d["a"],{attrs:{name:"photograph"}}),t("span",{class:"label"},[this.value?"重拍":"拍照"," 或 "]),t(d["a"],{attrs:{name:"photo"}}),t("span",{class:"label"},[this.value?"重新选择照片":"选择照片"])]])]),n])}}),st=Object(l["k"])("sku-messages"),it=st[0],nt=st[1],ut={id_no:"输入身份证号码",text:"输入文本",tel:"输入数字",email:"输入邮箱",date:"点击选择日期",time:"点击选择时间",textarea:"点击填写段落文本",mobile:"输入手机号码"},rt=it({props:{messages:Array,messageConfig:Object,goodsId:[Number,String]},data:function(){return{messageValues:this.resetMessageValues(this.messages)}},watch:{messages:function(t){this.messageValues=this.resetMessageValues(t)}},methods:{resetMessageValues:function(t){return(t||[]).map(function(){return{value:""}})},getType:function(t){return 1===+t.multiple?"textarea":"id_no"===t.type?"text":t.datetime>0?"datetime-local":t.type},getMessages:function(){var t=this,e={};return this.messageValues.forEach(function(s,i){var n=s.value;t.messages[i].datetime>0&&(n=n.replace(/T/g," ")),e["message_"+i]=n}),e},getCartMessages:function(){var t=this,e={};return this.messageValues.forEach(function(s,i){var n=s.value,u=t.messages[i];u.datetime>0&&(n=n.replace(/T/g," ")),e[u.name]=n}),e},getPlaceholder:function(t){var e=1===+t.multiple?"textarea":t.type,s=this.messageConfig.placeholderMap||{};return s[e]||ut[e]},validateMessages:function(){for(var t=this.messageValues,e=0;e<t.length;e++){var s=t[e].value,i=this.messages[e];if(""===s){if("1"===String(i.required)){var n="image"===i.type?"请上传":"请填写";return n+i.name}}else{if("tel"===i.type&&!Object(G["a"])(s))return"请填写正确的数字格式留言";if("mobile"===i.type&&!/^\d{6,20}$/.test(s))return"手机号长度为6-20位数字";if("email"===i.type&&!W(s))return"请填写正确的邮箱";if("id_no"===i.type&&(s.length<15||s.length>18))return"请填写正确的身份证号码"}}}},render:function(t){var e=this;return t(H["a"],{class:nt()},[this.messages.map(function(s,i){return"image"===s.type?t(P["a"],{class:nt("image-cell"),attrs:{label:"仅限一张",title:s.name,required:"1"===String(s.required)},key:e.goodsId+"-"+i},[t(et,{attrs:{uploadImg:e.messageConfig.uploadImg,maxSize:e.messageConfig.uploadMaxSize},model:{value:e.messageValues[i].value,callback:function(t){e.messageValues[i].value=t}}})]):t(Q["a"],{attrs:{maxlength:"200",label:s.name,required:"1"===String(s.required),placeholder:e.getPlaceholder(s),type:e.getType(s)},key:e.goodsId+"-"+i,model:{value:e.messageValues[i].value,callback:function(t){e.messageValues[i].value=t}}})})])}}),at=s("b650"),ot=Object(l["k"])("sku-actions"),ct=ot[0],lt=ot[1];function ht(t,e,s,i){var n=function(t){return function(){e.skuEventBus.$emit(t)}};return t("div",c()([{class:lt()},Object(h["b"])(i)]),[e.showAddCartBtn&&t(at["a"],{attrs:{bottomAction:!0,text:"加入购物车"},on:{click:n("sku:addCart")}}),t(at["a"],{attrs:{type:"primary",bottomAction:!0,text:e.buyText||"立即购买"},on:{click:n("sku:buy")}})])}ht.props={buyText:String,skuEventBus:Object,showAddCartBtn:Boolean};var dt=ct(ht),ft=Object(l["k"])("sku"),pt=ft[0],mt=C.QUOTA_LIMIT,gt=pt({props:{sku:Object,goods:Object,quota:Number,value:Boolean,buyText:String,quotaUsed:Number,goodsId:[Number,String],hideStock:Boolean,hideQuotaText:Boolean,stepperTitle:String,getContainer:Function,customSkuValidator:Function,closeOnClickOverlay:Boolean,disableStepperInput:Boolean,resetStepperOnHide:Boolean,resetSelectedSkuOnHide:Boolean,initialSku:{type:Object,default:function(){return{}}},showSoldoutSku:{type:Boolean,default:!0},showAddCartBtn:{type:Boolean,default:!0},bodyOffsetTop:{type:Number,default:200},messageConfig:{type:Object,default:function(){return{placeholderMap:{},uploadImg:function(){return Promise.resolve()},uploadMaxSize:5}}},customStepperConfig:{type:Object,default:function(){return{}}}},data:function(){return{selectedSku:{},selectedNum:1,show:this.value}},watch:{show:function(t){if(this.$emit("input",t),!t){var e=B(this.sku.tree,this.selectedSku);this.$emit("sku-close",{selectedSkuValues:e,selectedNum:this.selectedNum,selectedSkuComb:this.selectedSkuComb}),this.resetStepperOnHide&&this.resetStepper(),this.resetSelectedSkuOnHide&&this.resetSelectedSku(this.skuTree)}},value:function(t){this.show=t},skuTree:function(t){this.resetSelectedSku(t)}},computed:{skuGroupClass:function(){return["van-sku-group-container","van-hairline--bottom",{"van-sku-group-container--hide-soldout":!this.showSoldoutSku}]},bodyStyle:function(){if(!this.$isServer){var t=window.innerHeight-this.bodyOffsetTop;return{maxHeight:t+"px"}}},isSkuCombSelected:function(){return $(this.sku.tree,this.selectedSku)},isSkuEmpty:function(){return 0===Object.keys(this.sku).length},hasSku:function(){return!this.sku.none_sku},selectedSkuComb:function(){return this.hasSku?this.isSkuCombSelected?T(this.sku.list,this.selectedSku):null:{id:this.sku.collection_id,price:Math.round(100*this.sku.price),stock_num:this.sku.stock_num}},price:function(){return this.selectedSkuComb?(this.selectedSkuComb.price/100).toFixed(2):this.sku.price},skuTree:function(){return this.sku.tree||[]},imageList:function(){var t=[this.goods.picture];if(this.skuTree.length>0){var e=this.skuTree.filter(function(t){return"s1"===t.k_s})[0]||{};if(!e.v)return;e.v.forEach(function(e){var s=e.imgUrl||e.img_url;s&&t.push(s)})}return t}},created:function(){var t=new n["a"];this.skuEventBus=t,t.$on("sku:close",this.onClose),t.$on("sku:select",this.onSelect),t.$on("sku:numChange",this.onNumChange),t.$on("sku:previewImage",this.onPreviewImage),t.$on("sku:overLimit",this.onOverLimit),t.$on("sku:addCart",this.onAddCart),t.$on("sku:buy",this.onBuy),this.resetStepper(),this.resetSelectedSku(this.skuTree),this.$emit("after-sku-create",t)},methods:{resetStepper:function(){var t=this.$refs.skuStepper,e=this.initialSku.selectedNum,s=Object(l["d"])(e)?e:1;t?t.setCurrentNum(s):this.selectedNum=s},resetSelectedSku:function(t){var e=this;this.selectedSku={},t.forEach(function(t){e.selectedSku[t.k_s]=e.initialSku[t.k_s]||O}),t.forEach(function(t){var s=t.k_s,i=t.v[0].id;1===t.v.length&&_(e.sku.list,e.selectedSku,{key:s,valueId:i})&&(e.selectedSku[s]=i)})},getSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getMessages():{}},getSkuCartMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getCartMessages():{}},validateSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.validateMessages():""},validateSku:function(){if(0===this.selectedNum)return"商品已经无法购买啦";if(this.isSkuCombSelected)return this.validateSkuMessages();if(this.customSkuValidator){var t=this.customSkuValidator(this);if(t)return t}return"请先选择商品规格"},onClose:function(){this.show=!1},onSelect:function(t){var e,s;this.selectedSku=this.selectedSku[t.skuKeyStr]===t.id?Object(i["a"])({},this.selectedSku,(e={},e[t.skuKeyStr]=O,e)):Object(i["a"])({},this.selectedSku,(s={},s[t.skuKeyStr]=t.id,s)),this.$emit("sku-selected",{skuValue:t,selectedSku:this.selectedSku,selectedSkuComb:this.selectedSkuComb})},onNumChange:function(t){this.selectedNum=t},onPreviewImage:function(t){var e=this,s=this.imageList.findIndex(function(e){return e===t}),i={index:s,imageList:this.imageList,indexImage:t};this.$emit("preview-on",i),Object(a["a"])({images:this.imageList,startPosition:s,onClose:function(){e.$emit("preview-close",i)}})},onOverLimit:function(t){var e=t.action,s=t.limitType,i=t.quota,n=t.quotaUsed,u=this.customStepperConfig.handleOverLimit;if(u)u(t);else if("minus"===e)Object(r["a"])("至少选择一件");else if("plus"===e)if(s===mt){var a="限购"+i+"件";n>0&&(a+="，你已购买"+n+"件"),Object(r["a"])(a)}else Object(r["a"])("库存不足")},onAddCart:function(){this.onBuyOrAddCart("add-cart")},onBuy:function(){this.onBuyOrAddCart("buy-clicked")},onBuyOrAddCart:function(t){var e=this.validateSku();e?Object(r["a"])(e):this.$emit(t,this.getSkuData())},getSkuData:function(){return{goodsId:this.goodsId,selectedNum:this.selectedNum,selectedSkuComb:this.selectedSkuComb,messages:this.getSkuMessages(),cartMessages:this.getSkuCartMessages()}}},render:function(t){var e=this;if(!this.isSkuEmpty){var s=this.sku,i=this.goods,n=this.price,r=this.skuEventBus,a=this.selectedSku,o=this.selectedNum,c=this.stepperTitle,l=this.hideQuotaText,h=this.selectedSkuComb,d={price:n,selectedNum:o,skuEventBus:r,selectedSku:a,selectedSkuComb:h},f=function(t){return e.slots(t,d)},p=f("sku-header")||t(b,{attrs:{sku:s,goods:i,skuEventBus:r,selectedSku:a}},[f("sku-header-price")||t("div",{class:"van-sku__goods-price"},[t("span",{class:"van-sku__price-symbol"},["￥"]),t("span",{class:"van-sku__price-num"},[n])])]),m=f("sku-group")||this.hasSku&&t("div",{class:this.skuGroupClass},[this.skuTree.map(function(e){return t(x,{attrs:{skuRow:e}},[e.v.map(function(i){return t(N,{attrs:{skuList:s.list,skuValue:i,selectedSku:a,skuEventBus:r,skuKeyStr:e.k_s}})})])})]),g=f("sku-stepper")||t(K,{ref:"skuStepper",attrs:{quota:this.quota,hideStock:this.hideStock,quotaUsed:this.quotaUsed,skuEventBus:r,selectedNum:o,selectedSku:a,stepperTitle:c,skuStockNum:s.stock_num,hideQuotaText:l,selectedSkuComb:h,disableStepperInput:this.disableStepperInput,customStepperConfig:this.customStepperConfig},on:{change:function(t){e.$emit("stepper-change",t)}}}),k=f("sku-messages")||t(rt,{ref:"skuMessages",attrs:{goodsId:this.goodsId,messageConfig:this.messageConfig,messages:s.messages}}),v=f("sku-actions")||t(dt,{attrs:{buyText:this.buyText,skuEventBus:r,showAddCartBtn:this.showAddCartBtn}});return t(u["a"],{attrs:{position:"bottom",getContainer:this.getContainer,closeOnClickOverlay:this.closeOnClickOverlay},class:"van-sku-container",model:{value:e.show,callback:function(t){e.show=t}}},[p,t("div",{class:"van-sku-body",style:this.bodyStyle},[f("sku-body-top"),m,f("extra-sku-group"),g,k]),v])}}});gt.SkuActions=dt,gt.SkuHeader=b,gt.SkuMessages=rt,gt.SkuStepper=K,gt.SkuRow=x,gt.SkuRowItem=N,gt.skuHelper=w,gt.skuConstants=I;e["a"]=gt},"34e9":function(t,e,s){"use strict";var i=s("861b"),n=s.n(i),u=s("a142"),r=s("ba31"),a=Object(u["k"])("cell-group"),o=a[0],c=a[1];function l(t,e,s,i){var u=t("div",n()([{class:[c(),{"van-hairline--top-bottom":e.border}]},Object(r["b"])(i,!0)]),[s["default"]&&s["default"]()]);return e.title?t("div",[t("div",{class:c("title")},[e.title]),u]):u}l.props={title:String,border:{type:Boolean,default:!0}},e["a"]=o(l)},"4b0a":function(t,e,s){"use strict";s("68ef"),s("786d")},"4cf9":function(t,e,s){},"565f":function(t,e,s){"use strict";var i=s("861b"),n=s.n(i),u=s("1988"),r=s("ad06"),a=s("7744"),o=s("dfaf"),c=s("a142"),l=s("db78"),h=s("023d"),d=s("90c6"),f=Object(c["k"])("field"),p=f[0],m=f[1];e["a"]=p({inheritAttrs:!1,props:Object(u["a"])({},o["a"],{error:Boolean,leftIcon:String,rightIcon:String,readonly:Boolean,clearable:Boolean,labelWidth:[String,Number],labelAlign:String,inputAlign:String,onIconClick:Function,autosize:[Boolean,Object],errorMessage:String,errorMessageAlign:String,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(c["d"])(this.value)&&!this.readonly},listeners:function(){return Object(u["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur})},labelStyle:function(){var t=this.labelWidth;if(t){var e=Object(d["a"])(String(t))?t+"px":t;return{maxWidth:e,minWidth:e}}}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){void 0===t&&(t=this.$refs.input);var e=t,s=e.value,i=this.$attrs.maxlength;return"number"===this.type&&Object(c["d"])(i)&&s.length>i&&(s=s.slice(0,i),t.value=s),s},onInput:function(t){this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t),Object(c["e"])()&&window.scrollTo(0,Object(h["b"])())},onClickLeftIcon:function(){this.$emit("click-left-icon")},onClickRightIcon:function(){this.$emit("click-icon"),this.$emit("click-right-icon"),this.onIconClick&&this.onIconClick()},onClear:function(t){Object(l["c"])(t),this.$emit("input",""),this.$emit("clear")},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,s=-1===String(this.value).indexOf("."),i=e>=48&&e<=57||46===e&&s||45===e;i||Object(l["c"])(t)}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(c["g"])(this.autosize)){var s=this.autosize,i=s.maxHeight,n=s.minHeight;i&&(e=Math.min(e,i)),n&&(e=Math.max(e,n))}e&&(t.style.height=e+"px")}},renderInput:function(){var t=this.$createElement,e={ref:"input",class:m("control",this.inputAlign),domProps:{value:this.value},attrs:Object(u["a"])({},this.$attrs,{readonly:this.readonly}),on:this.listeners};return"textarea"===this.type?t("textarea",n()([{},e])):t("input",n()([{attrs:{type:this.type}},e]))},renderLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:m("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(r["a"],{attrs:{name:this.leftIcon}})])},renderRightIcon:function(){var t=this.$createElement,e=this.slots,s=e("right-icon")||e("icon")||this.rightIcon||this.icon;if(s)return t("div",{class:m("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||e("icon")||t(r["a"],{attrs:{name:this.rightIcon||this.icon}})])}},render:function(t){var e,s=this.slots,i=this.labelAlign,n={icon:this.renderLeftIcon};return s("label")&&(n.title=function(){return s("label")}),t(a["a"],{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,titleStyle:this.labelStyle,titleClass:m("label",i)},class:m((e={error:this.error,disabled:this.$attrs.disabled},e["label-"+i]=i,e["min-height"]="textarea"===this.type&&!this.autosize,e)),scopedSlots:n},[t("div",{class:m("body")},[this.renderInput(),this.showClear&&t(r["a"],{attrs:{name:"clear"},class:m("clear"),on:{touchstart:this.onClear}}),this.renderRightIcon(),s("button")&&t("div",{class:m("button")},[s("button")])]),this.errorMessage&&t("div",{class:m("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},"59ad":function(t,e,s){t.exports=s("7be7")},"5d6b":function(t,e,s){var i=s("e53d").parseInt,n=s("a1ce").trim,u=s("e692"),r=/^[-+]?0[xX]/;t.exports=8!==i(u+"08")||22!==i(u+"0x16")?function(t,e){var s=n(String(t),3);return i(s,e>>>0||(r.test(s)?16:10))}:i},"5f1a":function(t,e,s){"use strict";s("68ef"),s("9b7e")},"5fbe":function(t,e,s){},"6aa9":function(t,e,s){"use strict";s.d(e,"d",function(){return i}),s.d(e,"a",function(){return n}),s.d(e,"c",function(){return u}),s.d(e,"e",function(){return r}),s.d(e,"b",function(){return a});var i="#f44",n="#1989fa",u="#07c160",r="#fff",a="#969799"},7445:function(t,e,s){var i=s("63b6"),n=s("5d6b");i(i.G+i.F*(parseInt!=n),{parseInt:n})},7844:function(t,e,s){"use strict";s("68ef"),s("8270")},"7b0a":function(t,e,s){},"7be7":function(t,e,s){s("0a90"),t.exports=s("584a").parseFloat},"81e6":function(t,e,s){"use strict";s("68ef"),s("7b0a")},"8f80":function(t,e,s){"use strict";var i=s("1988"),n=s("a142"),u=Object(n["k"])("uploader"),r=u[0],a=u[1];e["a"]=r({inheritAttrs:!1,props:{disabled:Boolean,beforeRead:Function,afterRead:Function,accept:{type:String,default:"image/*"},resultType:{type:String,default:"dataUrl"},maxSize:{type:Number,default:Number.MAX_VALUE}},computed:{detail:function(){return{name:this.$attrs.name||""}}},methods:{onChange:function(t){var e=this,s=t.target.files;!this.disabled&&s.length&&(s=1===s.length?s[0]:[].slice.call(s,0),!s||this.beforeRead&&!this.beforeRead(s,this.detail)?this.resetInput():Array.isArray(s)?Promise.all(s.map(this.readFile)).then(function(t){var i=!1,n=s.map(function(n,u){return n.size>e.maxSize&&(i=!0),{file:s[u],content:t[u]}});e.onAfterRead(n,i)}):this.readFile(s).then(function(t){e.onAfterRead({file:s,content:t},s.size>e.maxSize)}))},readFile:function(t){var e=this;return new Promise(function(s){var i=new FileReader;i.onload=function(t){s(t.target.result)},"dataUrl"===e.resultType?i.readAsDataURL(t):"text"===e.resultType&&i.readAsText(t)})},onAfterRead:function(t,e){e?this.$emit("oversize",t):this.afterRead&&this.afterRead(t,this.detail),this.resetInput()},resetInput:function(){this.$refs.input&&(this.$refs.input.value="")}},render:function(t){var e=this.accept,s=this.disabled;return t("div",{class:a()},[this.slots(),t("input",{attrs:Object(i["a"])({},this.$attrs,{type:"file",accept:e,disabled:s}),ref:"input",class:a("input"),on:{change:this.onChange}})])}})},"90c6":function(t,e,s){"use strict";function i(t){return/^\d+$/.test(t)}s.d(e,"a",function(){return i})},"93ac":function(t,e,s){"use strict";s("68ef"),s("4cf9")},"9b7e":function(t,e,s){},"9ffb":function(t,e,s){"use strict";var i=s("a142"),n=Object(i["k"])("col"),u=n[0],r=n[1];e["a"]=u({props:{span:[Number,String],offset:[Number,String],tag:{type:String,default:"div"}},computed:{gutter:function(){return this.$parent&&Number(this.$parent.gutter)||0},style:function(){var t=this.gutter/2+"px";return this.gutter?{paddingLeft:t,paddingRight:t}:{}}},render:function(t){var e,s=this.span,i=this.offset;return t(this.tag,{class:r((e={},e[s]=s,e["offset-"+i]=i,e)),style:this.style},[this.slots()])}})},a1ce:function(t,e,s){var i=s("63b6"),n=s("25eb"),u=s("294c"),r=s("e692"),a="["+r+"]",o="​",c=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),h=function(t,e,s){var n={},a=u(function(){return!!r[t]()||o[t]()!=o}),c=n[t]=a?e(d):r[t];s&&(n[s]=c),i(i.P+i.F*a,"String",n)},d=h.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=h},a3e2:function(t,e,s){"use strict";var i=s("861b"),n=s.n(i),u=s("a142"),r=s("ba31"),a=s("6aa9"),o=Object(u["k"])("tag"),c=o[0],l=o[1],h={danger:a["d"],primary:a["a"],success:a["c"]};function d(t,e,s,i){var u,o=e.type,c=e.mark,d=e.plain,f=e.round,p=e.size,m=e.color||o&&h[o]||a["b"],g=d?"color":"backgroundColor",k=(u={},u[g]=m,u);e.textColor&&(k.color=e.textColor);var b={mark:c,plain:d,round:f};return p&&(b[p]=p),t("span",n()([{style:k,class:[l(b),{"van-hairline--surround":d}]},Object(r["b"])(i,!0)]),[s["default"]&&s["default"]()])}d.props={size:String,type:String,mark:Boolean,color:String,plain:Boolean,round:Boolean,textColor:String},e["a"]=c(d)},b528:function(t,e,s){"use strict";var i=s("1988"),n=s("861b"),u=s.n(n),r=s("a142"),a=s("ad06"),o=s("ba31"),c=s("48f4"),l=Object(r["k"])("goods-action-mini-btn"),h=l[0],d=l[1];function f(t,e,s,i){var n=function(t){Object(o["a"])(i,"click",t),Object(c["a"])(i)};return t("div",u()([{class:[d(),"van-hairline"],on:{click:n}},Object(o["b"])(i)]),[t(a["a"],{class:[d("icon"),e.iconClass],attrs:{tag:"div",info:e.info,name:e.icon}}),s["default"]?s["default"]():e.text])}f.props=Object(i["a"])({},c["c"],{text:String,icon:String,info:[String,Number],iconClass:null}),e["a"]=h(f)},b9e9:function(t,e,s){s("7445"),t.exports=s("584a").parseInt},bb33:function(t,e,s){"use strict";var i=s("861b"),n=s.n(i),u=s("a142"),r=s("ba31"),a=Object(u["k"])("goods-action"),o=a[0],c=a[1];function l(t,e,s,i){return t("div",n()([{class:c({"safe-area-inset-bottom":e.safeAreaInsetBottom})},Object(r["b"])(i,!0)]),[s["default"]&&s["default"]()])}l.props={safeAreaInsetBottom:Boolean},e["a"]=o(l)},bcd3:function(t,e,s){},c194:function(t,e,s){"use strict";s("68ef")},c3a6:function(t,e,s){"use strict";s("68ef")},d10a:function(t,e,s){},e415:function(t,e,s){"use strict";s("68ef"),s("4d75"),s("b258"),s("8270"),s("786d"),s("504b"),s("fb6c"),s("1146"),s("bcd3"),s("d10a")},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(t,e,s){t.exports=s("b9e9")},f908:function(t,e,s){"use strict";s("68ef"),s("1f5b")},fb6c:function(t,e,s){}}]);