(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-624da486"],{b889:function(t,e,o){},c2c6:function(t,e,o){"use strict";o.r(e);var a,s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"goods",attrs:{id:"app2"}},[o("van-swipe",{staticClass:"goods-swipe",attrs:{autoplay:3e3}},t._l(t.goods.thumb,function(e,a){return o("van-swipe-item",{key:e,staticStyle:{height:"300px"}},[o("img",{staticStyle:{width:"auto",height:"auto","max-height":"100%","max-width":"100%",margin:"auto"},attrs:{src:e},on:{click:function(e){return t.imageView(a)}}})])}),1),o("van-cell-group",[o("van-cell",[o("div",{staticClass:"goods-title"},[t._v(t._s(t.goods.title))]),o("div",{staticClass:"goods-price"},[t._v(t._s(t.goods.price))])]),o("van-cell",{staticClass:"goods-express"},[o("van-col",{attrs:{span:"10"}},[t._v("运费："+t._s(t.goods.express))])],1)],1),o("van-cell-group",{staticClass:"goods-cell-group"},[o("van-cell",{attrs:{title:"规格选择","is-link":""},on:{click:function(e){return t.showBaseTrue()}}})],1),o("van-cell-group",{staticClass:"goods-cell-group"},[o("van-cell",{attrs:{title:"商品详情"}})],1),o("div",{staticStyle:{width:"100%",height:"auto","background-color":"white"},attrs:{id:"goods_content"}},[o("div",{staticStyle:{height:"auto",margin:"2.5%",width:"95%","background-color":"white","margin-top":"0px"},domProps:{innerHTML:t._s(t.goods.content)}})]),o("van-goods-action",[o("van-goods-action-mini-btn",{attrs:{icon:t.icon,text:"收藏"},on:{click:t.collection}}),o("van-goods-action-mini-btn",{attrs:{icon:"cart-o"},on:{click:t.onClickCart}},[t._v("\n\t\t\t购物车\n\t\t")]),o("van-goods-action-big-btn",{on:{click:function(e){return t.showBaseTrue()}}},[t._v("\n\t\t\t加入购物车\n\t\t")]),o("van-goods-action-big-btn",{attrs:{primary:""},on:{click:function(e){return t.showBaseTrue()}}},[t._v("\n\t\t\t立即购买\n\t\t")])],1),o("van-sku",{ref:"add",attrs:{sku:t.skuData.sku,goods:t.skuData.goods_info,"goods-id":t.skuData.goods_id,"hide-stock":t.skuData.sku.hide_stock,quota:t.skuData.quota,"quota-used":t.skuData.quota_used,"disable-stepper-input":"","close-on-click-overlay":t.closeOnClickOverlay,"custom-sku-validator":t.customSkuValidator},on:{"add-cart":t.onAddCartClicked,"buy-clicked":t.onBuyClicked},model:{value:t.showBase,callback:function(e){t.showBase=e},expression:"showBase"}})],1)},i=[],n=o("59ad"),c=o.n(n),u=o("e814"),r=o.n(u),l=(o("28a5"),o("e7e5"),o("d399")),d=o("bd86"),h=(o("4662"),o("28a2")),p=(o("e415"),o("2b5e")),k=(o("f908"),o("b528")),g=(o("19de"),o("234f")),m=(o("93ac"),o("bb33")),f=(o("4b0a"),o("2bb1")),b=(o("7844"),o("5596")),v=(o("0653"),o("34e9")),_=(o("c194"),o("7744")),w=(o("c3a6"),o("ad06")),C=(o("81e6"),o("9ffb")),O=(o("5f1a"),o("a3e2")),j=o("bc3a"),x=o.n(j),y=o("b1ef"),D=o("440a"),S={components:(a={},Object(d["a"])(a,O["a"].name,O["a"]),Object(d["a"])(a,C["a"].name,C["a"]),Object(d["a"])(a,w["a"].name,w["a"]),Object(d["a"])(a,_["a"].name,_["a"]),Object(d["a"])(a,v["a"].name,v["a"]),Object(d["a"])(a,b["a"].name,b["a"]),Object(d["a"])(a,f["a"].name,f["a"]),Object(d["a"])(a,m["a"].name,m["a"]),Object(d["a"])(a,g["a"].name,g["a"]),Object(d["a"])(a,k["a"].name,k["a"]),Object(d["a"])(a,p["a"].name,p["a"]),Object(d["a"])(a,h["a"].name,h["a"]),a),data:function(){var t=this;return this.skuData={sku:{tree:[{k:"规格",k_id:"1",v:[{id:"",name:"",imgUrl:""}],k_s:"s1"}],list:[],none_sku:!1,sold_num:0,hide_stock:!1},goods_id:"",goods_info:{title:"",picture:"",price:1,origin:""}},{icon:"like-o",showBase:!1,showCustom:!1,showStepper:!1,showSoldout:!1,closeOnClickOverlay:!0,initialSku:{s1:"30349",s2:"1193"},customSkuValidator:function(){return"请至少选择一件商品"},customStepperConfig:{quotaText:"单次限购100件",stockFormatter:function(t){return"剩余".concat(t,"件")},handleOverLimit:function(e){var o=e.action,a=e.limitType,s=e.quota;"minus"===o?t.$toast("至少选择一件商品"):"plus"===o&&(a===LIMIT_TYPE.QUOTA_LIMIT?t.$toast("限购".concat(s,"件")):t.$toast("库存不够了"))}},goods:{content:"",title:"",price:0,express:"免运费",thumb:[],specifications:[]}}},created:function(){this.ajax(),this.getCollection()},methods:{getCollection:function(){var t=this;x()({method:"get",url:y["a"].baseURL+"appsite/selectCollection",params:{pid:this.$route.query.id,cen_xczhapp_token:this.$cookies.get("cen_xczhapp_token")}}).then(function(e){null!=e.data&&(t.icon="like")}).catch(function(t){})},direct_buy:function(){console.log("fdsf")},imageView:function(t){Object(h["a"])({images:this.goods.thumb,startPosition:t,onClose:function(){}})},collection:function(){"like"==this.icon?(this.icon="like-o",Object(l["a"])("取消收藏")):this.icon="like",x()({method:"get",url:y["a"].baseURL+"appsite/collection",params:{pid:this.$route.query.id,cen_xczhapp_token:this.$cookies.get("cen_xczhapp_token")}}).then(function(t){Object(l["a"])(t.data.msg)}).catch(function(t){Object(l["a"])("请先登录")})},ajax:function(){var t=this;l["a"].loading({mask:!0,message:"加载中...",duration:0}),x()({method:"get",url:y["a"].baseURL+"appsite/product/select?id="+this.$route.query.id}).then(function(e){console.log(e.data);var o=e.data.product,a=o.slide.split(",");t.goods.specifications=JSON.parse(o.specifications),t.formatPrice(),t.goods.price="¥"+t.goods.price,t.goods.thumb=a,t.goods.title=o.name,t.goods.content=t.html_decode(o.content),t.skuData.goods_info.title=o.name,t.skuData.goods_info.picture=y["a"].resoursePhoto+o.image;var s=0;t.skuData.sku.tree[0].v.splice(0,t.skuData.sku.tree[0].v.length),t.skuData.sku.list.splice(0,t.skuData.sku.list.length),delete t.skuData.sku.stock_num;for(var i=0;i<t.goods.specifications.length;i++){var n=t.goods.specifications[i],c={id:n.id_+"",name:n.name,imgUrl:y["a"].resoursePhoto+n.image};t.skuData.sku.tree[0].v.push(c),t.$set(t.skuData.sku.tree[0].v,"count",t.goods.specifications.length);var u={weight:n.weight,name:n.name,id:r()(n.id_),price:100*n.price,s1:n.id_,stock_num:n.stock,goods_id:o.id};t.skuData.sku.list.push(u),s+=r()(n.stock)}t.$set(t.skuData.sku,"stock_num",s),console.log(t.skuData.sku),l["a"].clear()}).catch(function(t){console.log("请求失败："+t),l["a"].clear(),l["a"].fail("请求失败")})},showBaseTrue:function(){this.showBase=!0},onBuyClicked:function(t){},onAddCartClicked:function(t){var e=this;x()({method:"post",url:y["a"].baseURL+"appsite/shopcar/insert",params:{id_:t.selectedSkuComb.id,weight:t.selectedSkuComb.weight,name:t.selectedSkuComb.name,price:t.selectedSkuComb.price/100,number:t.selectedNum,id:t.selectedSkuComb.goods_id,cen_xczhapp_token:this.$cookies.get("cen_xczhapp_token")}}).then(function(t){e.$toast(t.data.msg),0==t.data.status&&e.$router.push({path:"/login"})}).catch(function(t){console.log("请求失败："+t)})},onPointClicked:function(){this.$toast("积分兑换")},formatPrice:function(){for(var t=this.goods.specifications,e=c()(t[0].price),o=c()(t[0].price),a=0;a<t.length;a++){var s=c()(t[a].price);s>=e&&(e=s),s<=o&&(o=s)}this.goods.price=e==o?e:o+" ~ "+e},onClickCart:function(){this.$router.push("cart")},html_decode:function(t){return Object(D["b"])(t)},sorry:function(){Object(l["a"])("暂无后续逻辑~")}}},$=S,B=(o("f63d"),o("2877")),T=Object(B["a"])($,s,i,!1,null,null,null);e["default"]=T.exports},f63d:function(t,e,o){"use strict";var a=o("b889"),s=o.n(a);s.a}}]);